Всем добрый день! Продолжаю развивать свой проект [Lazurite](https://noant.github.io/Lazurite/). За последние несколько месяцев было проведено много работы по оптимизации и улучшению программы. Об основных изменениях хочу рассказать вам. [Прошлая публикация](https://habr.com/ru/post/416977/).

![](https://raw.githubusercontent.com/wiki/noant/Lazurite/pics/main2_c2.jpg)
<cut />
# Цветовые схемы
В последнюю версию были добавлены цветовые схемы, в том числе и высококонтрастные. Все скины можно посмотреть [здесь](https://github.com/noant/Lazurite/wiki/%D0%9D%D0%B0%D1%81%D1%82%D1%80%D0%BE%D0%B9%D0%BA%D0%B8-%D0%BA%D0%BB%D0%B8%D0%B5%D0%BD%D1%82%D0%B0#skins).
<br>
<a href="https://raw.githubusercontent.com/wiki/noant/Lazurite/pics/skin1_big.jpg" target="_blank">
<img width="21%" align="left" src="https://raw.githubusercontent.com/wiki/noant/Lazurite/pics/skin1.jpg" /></a><a href="https://raw.githubusercontent.com/wiki/noant/Lazurite/pics/skin2_big.jpg" target="_blank"><img width="21%" align="left" src="https://raw.githubusercontent.com/wiki/noant/Lazurite/pics/skin2.jpg" /></a><a href="https://raw.githubusercontent.com/wiki/noant/Lazurite/pics/skin3_big.jpg" target="_blank"><img width="21%" align="left" src="https://raw.githubusercontent.com/wiki/noant/Lazurite/pics/skin3.jpg" /></a><a href="https://raw.githubusercontent.com/wiki/noant/Lazurite/pics/skin4_big.jpg" target="_blank"><img width="21%" align="left" src="https://raw.githubusercontent.com/wiki/noant/Lazurite/pics/skin4.jpg" /></a>
<br clear="left" />

Проведена оптимизация интерфейса под планшеты.

<a href="https://raw.githubusercontent.com/wiki/noant/Lazurite/pics/tab1.png" target="_blank"><img width="29%" align="left" src="https://raw.githubusercontent.com/wiki/noant/Lazurite/pics/tab1.png" /></a><a href="https://raw.githubusercontent.com/wiki/noant/Lazurite/pics/tab3.png" target="_blank"><img width="29%" align="left" src="https://raw.githubusercontent.com/wiki/noant/Lazurite/pics/tab3.png" /></a><a href="https://raw.githubusercontent.com/wiki/noant/Lazurite/pics/tab2.png" target="_blank"><img  width="29%" align="left" src="https://raw.githubusercontent.com/wiki/noant/Lazurite/pics/tab2.png" /></a>
<br clear="left" />

# Настройки клиента
<span><a href="https://raw.githubusercontent.com/wiki/noant/Lazurite/pics/settings_splitted_big.png" target="_blank"><img width="30%" align="right" src="https://raw.githubusercontent.com/wiki/noant/Lazurite/pics/settings_splitted.png" /></a></span>Для того, чтобы пользователь мог сам отрегулировать производительность-энергосбережение, в последнюю версию клиента была добавлена возможность настройки интервалов синхронизации данных с сервером и обновления геолокации. Теперь, длительное время находясь далеко от дома, пользователь может вообще отключить функцию трекинга геолокации или настроить очень редкий интервал проверки, что поможет ему сберечь заряд батареи. О всех режимах работы и настройках клиента Lazurite можно узнать [здесь](https://github.com/noant/Lazurite/wiki/%D0%9D%D0%B0%D1%81%D1%82%D1%80%D0%BE%D0%B9%D0%BA%D0%B8-%D0%BA%D0%BB%D0%B8%D0%B5%D0%BD%D1%82%D0%B0). 

# IP-TV
В последнюю версию был добавлен медиа-плагин, он позволяет просматривать IP-TV каналы и управлять плейлистом. Помимо этого, есть одна фича, которая может быть интересна некоторым пользователям: использование карт захвата видео (сейчас только [AverMedia SDK карты захвата](https://www.avermedia.com/professional/)). Это, к примеру, позволяет выводить изображение на экран с приставки и вполне нормально играть в игры, эти карты захвата имеют малый лаг-тайм и поддерживают много разных источников видео-сигнала. Плюс ко всему, плагин позволяет выводить изображение в режиме разделенного экрана, т.е. можно одновременно играть в приставку и смотреть IP-TV на одном телевизоре. Так как плагин имеет модульную структуру, то постепенно в него будут добавляться другие мультимедийные возможности. Подробно о том, как создавать сценарии с этим плагином, можно посмотреть [здесь](https://github.com/noant/Lazurite/wiki/%D0%9C%D0%B5%D0%B4%D0%B8%D0%B0-%D1%85%D0%BE%D1%81%D1%82).
<img width="45%" align="left" src="https://raw.githubusercontent.com/wiki/noant/Lazurite/gifs/iptv.gif" /><img width="45%" align="left" src="https://raw.githubusercontent.com/wiki/noant/Lazurite/gifs/iptv+console.gif" />
<br clear="all" />

# Изменения в клиент-серверной части
Я написал небольшую кроссплатформенную библиотеку, [SimpleRemoteMethods](https://github.com/noant/SimpleRemoteMethods), для вызова удаленных процедур. Несет на борту [ProtocolBuffers](https://ru.wikipedia.org/wiki/Protocol_Buffers) сериализатор. Использование SimpleRemoteMethods в клиент-серверной части Lazurite дало прирост в производительности и уменьшило количество трафика между клиентом и сервером. Все данные, передаваемые по сети, стали "весить" меньше и обрабатываться быстрее.

Оффтоп, но расскажу немного о библиотеке. SimpleRemoteMethods позволяет создавать [классы контрактов](https://github.com/noant/SimpleRemoteMethods/blob/master/README.md#contracts), [генерировать классы](https://github.com/noant/SimpleRemoteMethods/blob/master/README.md#client-class-generation) для асинхронного клиента, в Windows брать на себя решение проблем с [резервированием адреса, установкой правил брандмауэра, привязки порта к сертификату](https://github.com/noant/SimpleRemoteMethods/blob/master/README.md#prepare-windows-for-server). Также имеет относительно гибкую архитектуру и позволяет переопределять классы [аутентификации](https://github.com/noant/SimpleRemoteMethods/blob/master/README.md#authentication), функционал [раздачи токенов](https://github.com/noant/SimpleRemoteMethods/blob/master/README.md#token-distribution), [проверки на брутфорс](https://github.com/noant/SimpleRemoteMethods/blob/master/README.md#bruteforce-checker) и т.д. Подробно о библиотеке можно прочитать [тут](https://github.com/noant/SimpleRemoteMethods/blob/master/README.md).

# Экспериментальный плагин
Этот плагин будет интересен программистам и опытными пользователям, которые сами смогут собрать и настроить его под себя. В репозитории [LazuriteExperimental](https://github.com/noant/LazuriteExperimental) выложены исходники экспериментального плагина, в котором заложен функционал голосовых команд для Lazurite, но так как функционал сырой и требует специальной настройки для каждого пользователя, то плагин не вошел в основной релиз. Тем не менее, он работоспособен. [Подробно об этом плагине и почему его нет в релизе](https://github.com/noant/Lazurite/wiki/%D0%AD%D0%BA%D1%81%D0%BF%D0%B5%D1%80%D0%B8%D0%BC%D0%B5%D0%BD%D1%82%D0%B0%D0%BB%D1%8C%D0%BD%D1%8B%D0%B9-%D1%84%D1%83%D0%BD%D0%BA%D1%86%D0%B8%D0%BE%D0%BD%D0%B0%D0%BB).

Предлагаю всем желающим присоединиться к разработке этого плагина. За вопросами и предложениями по поводу плагина и любым вопросам касательно Lazurite смело обращайтесь в личку или на электронный адрес. Также буду рад пул-реквестам энтузиастов, пытающимся улучшить Lazurite.

<video>https://youtu.be/QKKfoXHrZsA</video>


[\>\> Подробно о разработке плагинов](https://github.com/noant/Lazurite/wiki/%D0%A1%D0%BE%D0%B7%D0%B4%D0%B0%D0%BD%D0%B8%D0%B5-%D0%BF%D0%BB%D0%B0%D0%B3%D0%B8%D0%BD%D0%BE%D0%B2)
[\>\> WIKI проекта](https://github.com/noant/Lazurite/wiki/Home)
[\>\> Веб-сайт проекта](https://noant.github.io/Lazurite/)
[\>\> На GOOGLE PLAY](https://play.google.com/store/apps/details?id=lazurite.lazurite)
[\>\> Последняя версия](https://github.com/noant/Lazurite/releases)